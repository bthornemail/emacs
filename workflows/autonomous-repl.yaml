workflow:
  id: "autonomous-repl-example"
  type: "repl"
  y_combinator_level: "guided-autonomy"
  
  read:
    source: "user-input"
    input_type: "s-expression"
    protocol: "emacsclient"
    
  eval:
    transform: "autonomous-process-input"
    async:
      enabled: true
      executor: "hybrid"
      timeout: 5.0
      
  print:
    output: "buffer"
    target: "*Autonomous-REPL*"
    format: "pretty-print"
    
  loop:
    condition: "(lambda (ctx) (not (plist-get ctx :quit)))"
    
  error:
    try: "eval-transform"
    catch: "(lambda (err) (message \"Error: %s\" err))"
    await: "user-decision"
    recovery: "fallback-to-simple"
